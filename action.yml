# action.yml
name: 'mimICS Scan'
inputs:
  base_url:
    required: true
  api_key:  # id of input
    required: true
  targets:
    required: true
  config_name:
    required: true
  scan_name:
    required: true
  args:
    required: false
outputs:
  stdout:
    description: "result of mimICS command"
runs:
  using: 'docker'
  image: "docker://mimicsdemo.azurecr.io/mimics:demo"
  env:
    MIMICS_BASE_URL: ${{ inputs.BASE_URL }}
    MIMICS_API_KEY: ${{ inputs.API_KEY }}
  args:
    - scan
    - ${{ inputs.targets }}
    - -c '${{ inputs.config_name }}'
    - -s '${{ inputs.scan_name }}'
